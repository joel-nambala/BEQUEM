"use strict";const copyYear=document.querySelector(".copy-year"),btnModal=document.querySelectorAll(".btn-modal"),contactModal=document.querySelector(".contact"),contactFormModal=document.querySelector(".contact-form"),navRespond=document.querySelector(".nav-respond"),linksContainer=document.querySelector(".links-container"),navList=document.querySelector(".nav-list"),nav=document.querySelector(".nav"),scrollLink=document.querySelectorAll(".scroll-link"),closeModal=document.querySelector(".close-modal"),locationContainer=document.querySelector("#location"),slides=document.querySelectorAll(".slide"),dotContainer=document.querySelector(".dots"),header=document.getElementById("header"),btnUp=document.querySelector(".btn-up"),contactForm=document.querySelector(".contact-form"),contactFirstName=document.querySelector(".contact-first-name"),contactLastName=document.querySelector(".contact-last-name"),contactEmail=document.querySelector(".contact-email"),contactPhone=document.querySelector(".contact-phone"),contactCompany=document.querySelector(".contact-company"),contactLocation=document.querySelector(".contact-location"),contactMessage=document.querySelector(".contact-message"),contactSubject=document.querySelector(".contact-subject"),contactEmailError=document.querySelector(".error-email"),crossOrigin="https://api.codetabs.com/v1/proxy/?quest=",emailRegex=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,searchCountries=async function(){try{var t=await fetch("locations.json");if(!t.ok)throw new Error("Failed to fetch countries");var e=await t.json();const c=[];e.countries.forEach(function(t,e,o){c.push(t)}),c.sort(),c.forEach(function(t,e,o){t=`<option value="${t}">${t}</option>`;locationContainer.insertAdjacentHTML("beforeend",t)})}catch(t){console.error(t.message)}},changeCopyrightYear=(searchCountries(),function(){var t=(new Date).getFullYear();copyYear.textContent=t}),successAlert=(changeCopyrightYear(),function(t){Swal.fire({icon:"success",title:"Success",text:""+t,timer:1500,showConfirmButton:!1})}),errorAlert=function(t){Swal.fire({icon:"error",title:"Oops...",text:""+t,timer:1500,showConfirmButton:!1})},showModal=function(t){t.preventDefault(),contactModal.classList.add("show-modal"),contactFormModal.classList.add("show-modal"),linksContainer.style.height=0},hideModal=function(){contactModal.classList.remove("show-modal"),contactFormModal.classList.remove("show-modal")},responsiveNavigation=(btnModal.forEach(function(t,e,o){t.addEventListener("click",showModal)}),contactModal.addEventListener("click",hideModal),closeModal.addEventListener("click",hideModal),function(){var t=linksContainer.getBoundingClientRect().height,e=navList.getBoundingClientRect().height;linksContainer.style.height=0===t?e+"px":0}),fixedNavigation=(navRespond.addEventListener("click",responsiveNavigation),function(){var t=window.scrollY;navList.getBoundingClientRect().height<t?nav.classList.add("fixed"):nav.classList.remove("fixed")}),backToTop=function(){var t=window.scrollY,e=header.getBoundingClientRect().height,o=nav.getBoundingClientRect().height;btnUp.style.opacity=e-o-10<t?1:0},sliderComponent=(window.addEventListener("scroll",function(t){fixedNavigation(),backToTop()}),scrollLink.forEach(function(t,e,o){t.addEventListener("click",function(e){e.preventDefault();e=t.getAttribute("href"),e=document.querySelector(e);if(null!==e){var o=linksContainer.getBoundingClientRect().height,c=nav.getBoundingClientRect().height,n=nav.classList.contains("fixed");let t=e.offsetTop-c;n||(t-=c),82<c&&(t+=o),window.scrollTo({left:0,top:t,behavior:"smooth"}),linksContainer.style.height=0}})}),function(){let e=0;function o(t){document.querySelectorAll(".dots-dot").forEach(function(t){t.classList.remove("dots-dot--active")}),document.querySelector(`.dots-dot[data-slide="${t}"]`).classList.add("dots-dot--active")}function c(c){slides.forEach(function(t,e,o){t.style.transform=`translateX(${100*(e-c)}%)`})}function n(){e===a-1?e=0:e++,c(e),o(e)}const a=slides.length;slides.forEach(function(t,e,o){e=`<button class="dots-dot" data-slide="${e}"></button>`;dotContainer.insertAdjacentHTML("beforeend",e)}),o(0),c(0),document.addEventListener("keydown",function(t){"ArrowRight"===t.key&&n(),"ArrowLeft"===t.key&&(0===e?e=a-1:e--,c(e),o(e))}),dotContainer.addEventListener("click",function(t){t.target.classList.contains("dots-dot")&&(t=t.target.dataset["slide"],c(t),o(t))}),setInterval(n,1e4)}),validateEmail=(sliderComponent(),function(t){t.match(emailRegex)?(contactEmailError.textContent="Valid email address",contactEmailError.classList.remove("success"),contactEmailError.classList.remove("error"),contactEmailError.classList.add("success"),contactEmail.classList.remove("b-success"),contactEmail.classList.remove("b-error"),contactEmail.classList.add("b-success")):(contactEmailError.textContent="Invalid email address",contactEmailError.classList.remove("success"),contactEmailError.classList.remove("error"),contactEmailError.classList.add("error"),contactEmail.classList.remove("b-success"),contactEmail.classList.remove("b-error"),contactEmail.classList.add("b-error"))}),sendEmail=(contactEmail.addEventListener("keyup",function(t){validateEmail(contactEmail.value)}),function(t){emailjs.init("V9AweIpA2_llmRLsi");var e=contactEmail.value,o=contactSubject.value,c=contactMessage.value,n=contactFirstName.value,a=contactLastName.value,r=contactPhone.value,s=contactLocation.value,i=contactCompany.value;t.preventDefault();emailjs.send("service_evqqaj6","template_5952u0u",{name:n+" "+a,email:e,message:c,subject:o,phone:r,locale:s,company:i}).then(t=>{console.log(t),contactFirstName.value=contactLastName.value=contactPhone.value=contactCompany.value=contactLocation.value=contactMessage.value=contactSubject.value=contactEmail.value="",successAlert("Email send succesifully"),setInterval(hideModal,1600)}).catch(t=>console.log(t))});contactForm.addEventListener("submit",sendEmail);